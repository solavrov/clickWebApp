<!DOCTYPE html>

<html>
    <head>
        <title>ClickWebApp</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <p id="counter">wait...</p>
        <button id="button">click</button>
        
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/6.4.2/firebase-app.js"></script>
        <!-- Add SDKs for Firebase products that you want to use-->
        <script src="https://www.gstatic.com/firebasejs/6.4.2/firebase-database.js"></script>
        <script>
            
//            Your web app's Firebase configuration
            var firebaseConfig = {
              apiKey: "AIzaSyA_m6YOCEJ772WcpZ3Ch4lsCYKhTALEtVc",
              authDomain: "click-48d48.firebaseapp.com",
              databaseURL: "https://click-48d48.firebaseio.com",
              projectId: "click-48d48",
              storageBucket: "",
              messagingSenderId: "634889820160",
              appId: "1:634889820160:web:ad1a574c977e43f7"
            };
//            Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            
            var database = firebase.database();
            var dbCounterValue = database.ref('data/counter');
            
            var counter = document.getElementById("counter");
            var button = document.getElementById("button");
                        
            dbCounterValue.on('value', function(snapshot) {
                counter.innerText = snapshot.val();
            });
            
            button.addEventListener("click", function(){
                dbCounterValue.set(parseInt(counter.innerText) + 1);
            });
          
        </script>
        
    </body>
</html>
